# WordCloud GUI 使用说明

## 简介

这是一个基于PyQt5的词云生成器GUI程序，支持实时调整参数和预览词云效果，特别适用于高分屏显示。

## 功能特点

- 🎨 **实时预览**: 参数调整后自动更新词云显示
- 🖼️ **多种颜色模式**: 支持默认颜色、灰度、图片颜色
- 📏 **参数调节**: 可调节词数、字体大小、缩放比例等
- 🖱️ **高分屏支持**: 自动适配高分辨率显示器
- 💾 **文件管理**: 支持选择遮罩图片和颜色图片
- 💾 **保存功能**: 支持保存为PNG、JPG格式

## 安装依赖

```bash
pip install -r requirements_gui.txt
```

## 运行程序

```bash
python wordcloud_gui.py
```

## 使用说明

### 1. 文件设置
- **选择遮罩图片**: 选择用于定义词云形状的图片
- **选择颜色图片**: 选择用于提取颜色的图片（可选）

### 2. 词云参数
- **最大词数**: 控制词云中显示的最大词汇数量 (100-10000)
- **最大字体**: 最大字体大小 (10-200)
- **最小字体**: 最小字体大小 (1-50)
- **相对缩放**: 控制词频差异的显示程度 (0-1)
- **水平偏好**: 控制词汇水平排列的比例 (0-1)
- **边距**: 词汇之间的间距 (0-50)

### 3. 颜色设置
- **颜色模式**: 
  - 默认颜色: 使用WordCloud默认配色
  - 灰度: 使用随机灰度颜色
  - 图片颜色: 从选择的颜色图片中提取颜色
- **背景颜色**: 白色、黑色或透明

### 4. 操作按钮
- **生成词云**: 根据当前参数生成词云
- **保存词云**: 将生成的词云保存为图片文件
- **实时预览**: 开启/关闭参数变化时的自动预览

## 界面布局

```
┌─────────────────┬─────────────────────────────────┐
│   控制面板        │           预览区域              │
│                 │                                 │
│ 文件设置         │                                 │
│ ├─遮罩图片       │                                 │
│ └─颜色图片       │                                 │
│                 │                                 │
│ 词云参数         │                                 │
│ ├─最大词数       │                                 │
│ ├─字体大小       │                                 │
│ ├─缩放比例       │                                 │
│ └─其他参数       │                                 │
│                 │                                 │
│ 颜色设置         │                                 │
│ ├─颜色模式       │                                 │
│ └─背景颜色       │                                 │
│                 │                                 │
│ 操作按钮         │                                 │
│ ├─生成词云       │                                 │
│ ├─保存词云       │                                 │
│ └─实时预览       │                                 │
└─────────────────┴─────────────────────────────────┘
```

## 系统要求

- Python 3.7+
- PyQt5 5.15+
- matplotlib 3.3+
- numpy 1.19+
- Pillow 8.0+
- wordcloud 1.8+

## 支持的操作系统

- Windows (自动检测字体路径)
- macOS (自动检测字体路径)
- Linux (自动检测字体路径)

## 注意事项

1. **字体支持**: 程序会自动检测系统中文字体，确保中文显示正常
2. **图片格式**: 支持PNG、JPG、JPEG、BMP、GIF格式
3. **性能优化**: 实时预览有500ms延迟，避免频繁更新影响性能
4. **高分屏**: 程序已优化高分屏显示，支持缩放和清晰显示

## 故障排除

### 常见问题

1. **无法显示中文**: 检查系统是否安装了中文字体
2. **程序启动失败**: 确保所有依赖包已正确安装
3. **图片加载失败**: 检查图片文件路径和格式
4. **预览不更新**: 确保开启了"实时预览"模式

### 调试模式

如需调试，可以在命令行中运行：
```bash
python -u wordcloud_gui.py
```

## 更新日志

- v1.0.0: 初始版本，支持基本词云生成和预览功能
- 支持高分屏显示
- 实时参数调整
- 多种颜色模式 